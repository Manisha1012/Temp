{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\opt.admin\\\\Documents\\\\pern-todo\\\\client\\\\src\\\\components\\\\Blog.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { w3cwebsocket as W3CWebSocket } from 'websocket';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst client = new W3CWebSocket('ws://localhost:5000');\n\nfunction Blog() {\n  _s();\n\n  const [blog, setBlog] = useState({\n    title: \"\",\n    content: \"\",\n    user_id: \"3\"\n  });\n  let name, value;\n\n  const handleInput = e => {\n    name = e.target.name;\n    value = e.target.value;\n    setBlog({ ...blog,\n      [name]: value\n    });\n  };\n\n  const onButtonClicked = () => {\n    //send messsage from client to server\n    client.send(JSON.stringify(blog));\n  }; //client connection confirmation\n\n\n  client.onopen = () => {\n    console.log('WebSocket Client Connected.');\n  }; //got message from server\n\n\n  client.onmessage = message => {\n    const dataFromServer = JSON.parse(message.data);\n    console.log('Got Reply! ', dataFromServer);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      method: \"POST\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Title: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"title\",\n        value: blog.title,\n        onChange: handleInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 106\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Content: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"content\",\n        value: blog.content,\n        onChange: handleInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 33\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 113\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"hidden\",\n        name: \"user_id\",\n        value: blog.user_id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onButtonClicked,\n        children: \"Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n}\n\n_s(Blog, \"bPkZPgQF/0VxqxMzm+2tTVOPA/c=\");\n\n_c = Blog;\nexport default Blog;\n\nvar _c;\n\n$RefreshReg$(_c, \"Blog\");","map":{"version":3,"names":["useState","w3cwebsocket","W3CWebSocket","client","Blog","blog","setBlog","title","content","user_id","name","value","handleInput","e","target","onButtonClicked","send","JSON","stringify","onopen","console","log","onmessage","message","dataFromServer","parse","data"],"sources":["C:/Users/opt.admin/Documents/pern-todo/client/src/components/Blog.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { w3cwebsocket as W3CWebSocket } from 'websocket';\r\n\r\nconst client = new W3CWebSocket('ws://localhost:5000');\r\n\r\nfunction Blog() {\r\n\r\n    const [blog, setBlog] = useState({\r\n        title:\"\", content:\"\", user_id:\"3\"\r\n    });\r\n\r\n    let name, value;\r\n    const handleInput = (e) => {\r\n        name =  e.target.name;\r\n        value = e.target.value;\r\n\r\n        setBlog({...blog, [name]:value});\r\n    }\r\n    \r\n    const onButtonClicked = ()=> {\r\n        //send messsage from client to server\r\n        client.send(JSON.stringify(blog));\r\n    };\r\n\r\n    //client connection confirmation\r\n    client.onopen = () => {\r\n        console.log('WebSocket Client Connected.');\r\n    };\r\n\r\n    //got message from server\r\n    client.onmessage = (message) => {\r\n        const dataFromServer = JSON.parse(message.data);\r\n        console.log('Got Reply! ', dataFromServer);\r\n    };\r\n\r\n    return (<>\r\n    <form method=\"POST\">\r\n        <label>Title: </label><input type=\"text\" name=\"title\" value={blog.title} onChange={handleInput}/><br/>\r\n        <label>Content: </label><textarea name=\"content\" value={blog.content} onChange={handleInput}></textarea><br/>\r\n        <input type=\"hidden\" name=\"user_id\" value={blog.user_id}/>\r\n        <button onClick={onButtonClicked}>Post</button>\r\n        </form>\r\n    </>);\r\n}\r\n\r\nexport default Blog;\r\n\r\n"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,YAAY,IAAIC,YAAzB,QAA6C,WAA7C;;;AAEA,MAAMC,MAAM,GAAG,IAAID,YAAJ,CAAiB,qBAAjB,CAAf;;AAEA,SAASE,IAAT,GAAgB;EAAA;;EAEZ,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAAC;IAC7BO,KAAK,EAAC,EADuB;IACnBC,OAAO,EAAC,EADW;IACPC,OAAO,EAAC;EADD,CAAD,CAAhC;EAIA,IAAIC,IAAJ,EAAUC,KAAV;;EACA,MAAMC,WAAW,GAAIC,CAAD,IAAO;IACvBH,IAAI,GAAIG,CAAC,CAACC,MAAF,CAASJ,IAAjB;IACAC,KAAK,GAAGE,CAAC,CAACC,MAAF,CAASH,KAAjB;IAEAL,OAAO,CAAC,EAAC,GAAGD,IAAJ;MAAU,CAACK,IAAD,GAAOC;IAAjB,CAAD,CAAP;EACH,CALD;;EAOA,MAAMI,eAAe,GAAG,MAAK;IACzB;IACAZ,MAAM,CAACa,IAAP,CAAYC,IAAI,CAACC,SAAL,CAAeb,IAAf,CAAZ;EACH,CAHD,CAdY,CAmBZ;;;EACAF,MAAM,CAACgB,MAAP,GAAgB,MAAM;IAClBC,OAAO,CAACC,GAAR,CAAY,6BAAZ;EACH,CAFD,CApBY,CAwBZ;;;EACAlB,MAAM,CAACmB,SAAP,GAAoBC,OAAD,IAAa;IAC5B,MAAMC,cAAc,GAAGP,IAAI,CAACQ,KAAL,CAAWF,OAAO,CAACG,IAAnB,CAAvB;IACAN,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BG,cAA3B;EACH,CAHD;;EAKA,oBAAQ;IAAA,uBACR;MAAM,MAAM,EAAC,MAAb;MAAA,wBACI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAC0B;QAAO,IAAI,EAAC,MAAZ;QAAmB,IAAI,EAAC,OAAxB;QAAgC,KAAK,EAAEnB,IAAI,CAACE,KAA5C;QAAmD,QAAQ,EAAEK;MAA7D;QAAA;QAAA;QAAA;MAAA,QAD1B,eACqG;QAAA;QAAA;QAAA;MAAA,QADrG,eAEI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ,eAE4B;QAAU,IAAI,EAAC,SAAf;QAAyB,KAAK,EAAEP,IAAI,CAACG,OAArC;QAA8C,QAAQ,EAAEI;MAAxD;QAAA;QAAA;QAAA;MAAA,QAF5B,eAE4G;QAAA;QAAA;QAAA;MAAA,QAF5G,eAGI;QAAO,IAAI,EAAC,QAAZ;QAAqB,IAAI,EAAC,SAA1B;QAAoC,KAAK,EAAEP,IAAI,CAACI;MAAhD;QAAA;QAAA;QAAA;MAAA,QAHJ,eAII;QAAQ,OAAO,EAAEM,eAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAJJ;IAAA;MAAA;MAAA;MAAA;IAAA;EADQ,iBAAR;AAQH;;GAtCQX,I;;KAAAA,I;AAwCT,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}